title Delete Account - Basic Course of Events
participantspacing 2

actor "Administrator" as admin
control ": AccountSystem" as acs
participant ": AccountService" as asvc
entity "current : Account" as all
entity "selected : Account" as sel

== 1. The administrator is on the 'View All Accounts' page (07-view_all_accounts.png) ==
== 2. The administrator selects an account to delete from the displayed list ==

admin -> acs: selectAccountToDelete(accountEmail)
activate acs

loop for each account currently displayed on the screen
  acs -> all: getAccount(accountEmail)
end

acs -> acs: updateDisplay()
acs --> admin: 
deactivate acs

== 3. The system highlights the account to indicate it is selected \n 4. The administrator selects the delete functionality ==

admin -> acs: deleteSelected()
activate acs

acs -> admin: confirm()
activate admin
== 5. The system asks the administrator to confirm (16 - Delete Account - Confirmation Dialog) ==\n6. The administrator selects **Confirm** ==
admin --> acs: return true
deactivate admin

acs -> asvc: deleteAccount(accountEmail)
activate asvc
note over asvc: The deleteAccount method is a stand-in for\ndeleting the selected account object from the database
asvc -> sel: <<destroy>>
destroy sel
asvc --> acs: 
deactivate asvc

acs -> asvc: accounts := getAccounts()
acs -> acs: updateDisplay()

acs --> admin: 
deactivate acs

== 7. The account is removed from the system and updates the display to show the current accounts (07-view_all_accounts.png) ==